{
  "markup" : "%3Cwm-prefab-container+name%3D%22prefab_container1%22%3E%0A++++%3Cwm-layoutgrid+name%3D%22layoutgrid1%22%3E%0A++++++++%3Cwm-gridrow+name%3D%22gridrow1%22+padding%3D%22unset+unset+2.5em+unset%22%3E%0A++++++++++++%3Cwm-gridcolumn+columnwidth%3D%2212%22+name%3D%22gridcolumn1%22%3E%0A++++++++++++++++%3Cwm-label+name%3D%22label1%22+caption%3D%22Net+Worth%22+class%3D%22f-sm-2+font-medium%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++%3Cwm-label+name%3D%22label2%22+caption%3D%22bind%3AnetWorth+%7C+toCurrency%3A+basecurrency%3A+%272%27%22+class%3D%22p+f-xxl+font-semibold++text-ellipsis%22+fontunit%3D%22em%22+margin%3D%220.5em+unset+unset+unset%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++%3Cwm-icon+name%3D%22icon1%22+iconclass%3D%22wm-sl-r+sl-graph-ascend%22+caption%3D%227.5+%25+from+last+month%22+class%3D%22label-primary+font-semibold%22%3E%3C%2Fwm-icon%3E%0A++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++%3C%2Fwm-gridrow%3E%0A++++++++%3Cwm-gridrow+name%3D%22gridrow2%22+class%3D%22border-top+dashed%22+padding%3D%222.5em+unset+0.5em+unset%22%3E%0A++++++++++++%3Cwm-gridcolumn+columnwidth%3D%2212%22+name%3D%22gridcolumn3%22%3E%0A++++++++++++++++%3Cwm-label+name%3D%22label3%22+class%3D%22f-xxs+font-medium+text-muted%22+caption%3D%22Total+Investments%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++%3Cwm-label+name%3D%22label4%22+class%3D%22p+f-xl+font-semibold+text-ellipsis%22+caption%3D%22bind%3AtotalInvestment+%7C+toCurrency%3A+basecurrency%3A+%272%27%22%3E%3C%2Fwm-label%3E%0A++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++%3C%2Fwm-gridrow%3E%0A++++%3C%2Fwm-layoutgrid%3E%0A%3C%2Fwm-prefab-container%3E",
  "script" : "%2F*%0A+*+Use+App.getDependency+for+Dependency+Injection%0A+*+eg%3A+var+DialogService+%3D+App.getDependency%28%27DialogService%27%29%3B%0A+*%2F%0A%0A%2F*%0A+*+This+function+will+be+invoked+when+any+of+this+prefab%27s+property+is+changed%0A+*+%40key%3A+property+name%0A+*+%40newVal%3A+new+value+of+the+property%0A+*+%40oldVal%3A+old+value+of+the+property%0A+*%2F%0APrefab.onPropertyChange+%3D+function%28key%2C+newVal%2C+oldVal%29+%7B%0A++++switch+%28key%29+%7B%0A++++++++case+%22basecurrency%22%3A%0A++++++++++++if+%28Prefab.Variables.svGetAllAccounts%29+%7B%0A++++++++++++++++calcualteAccountsTotal%28Prefab.Variables.svGetAllAccounts.dataSet%29%3B%0A++++++++++++++++calcualteCardsTotal%28Prefab.Variables.svGetAllCards.dataSet%29%3B%0A++++++++++++++++calculateTotalInvestment%28Prefab.Variables.svGetGoalsForUser.dataSet%29%3B%0A++++++++++++%7D%0A++++++++++++break%3B%0A++++%7D%0A%7D%3B%0A%0APrefab.onReady+%3D+function%28%29+%7B%0A++++%2F%2F+this+method+will+be+triggered+post+initialization+of+the+prefab.%0A%7D%3B%0A%0APrefab.svGetAllAccountsonSuccess+%3D+function%28variable%2C+data%29+%7B%0A++++calcualteAccountsTotal%28data%29%3B%0A%7D%3B%0A%0Afunction+convertCurrency%28sourceCurrency%2C+targetCurrency%2C+amount%29+%7B%0A++++const+exchangeRates+%3D+new+Map%28%5B%0A++++++++%5B%27USD%27%2C+1.0%5D%2C+%2F%2F+1+USD+%3D+1+USD%0A++++++++%5B%27EUR%27%2C+0.84%5D%2C+%2F%2F+1+USD+%3D+0.84+EUR%0A++++++++%5B%27GBP%27%2C+0.72%5D%2C+%2F%2F+1+USD+%3D+0.72+GBP%0A++++%5D%29%3B%0A%0A++++const+exchangeRate+%3D+exchangeRates.get%28targetCurrency%29+%2F+exchangeRates.get%28sourceCurrency%29%3B%0A++++const+convertedAmount+%3D+amount+*+exchangeRate%3B%0A++++return+convertedAmount%3B%0A%7D%0A%0APrefab.svGetAllCardsonSuccess+%3D+function%28variable%2C+data%29+%7B%0A++++calcualteCardsTotal%28data%29%3B%0A%7D%3B%0A%0APrefab.svGetGoalsForUseronSuccess+%3D+function%28variable%2C+data%29+%7B%0A++++calculateTotalInvestment%28data%29%0A%7D%3B%0A%0Afunction+calcualteCardsTotal%28data%29+%7B%0A++++data+%3D+data+%3F+data+%3A+%7B%7D%0A++++let+cards+%3D+data.cards+%26%26+data.cards.length+%3E+0+%3F+data.cards+%3A+%5B%5D%3B%0A++++let+balance+%3D+0%3B%0A++++cards.forEach%28card+%3D%3E+%7B%0A++++++++balance+%2B%3D+convertCurrency%28card.currency%2C+Prefab.basecurrency%2C+card.balances.actualBalance%29%0A++++%7D%29%0A++++Prefab.cardBalance+%3D+balance%3B%0A++++Prefab.netWorth+%3D+Prefab.accountBalance+%2B+Prefab.cardBalance%3B%0A%7D%0A%0Afunction+calcualteAccountsTotal%28data%29+%7B%0A++++data+%3D+data+%3F+data+%3A+%7B%7D%0A++++let+accounts+%3D+data.accounts+%26%26+data.accounts.length+%3E+0+%3F+data.accounts+%3A+%5B%5D%3B%0A++++let+balance+%3D+0%3B%0A++++accounts.forEach%28account+%3D%3E+%7B%0A++++++++balance+%2B%3D+convertCurrency%28account.currency%2C+Prefab.basecurrency%2C+account.balances.actualBalance%29%3B%0A++++%7D%29%3B%0A++++Prefab.accountBalance+%3D+balance%3B%0A%7D%0A%0Afunction+calculateTotalInvestment%28data%29+%7B%0A++++data+%3D+data+%26%26+data.length+%3E+0+%3F+data+%3A+%5B%5D%0A++++let+totalInvestment+%3D+0%3B%0A++++data.forEach%28item+%3D%3E+%7B%0A++++++++totalInvestment+%2B%3D+convertCurrency%28item.accountDetails.currency%2C+Prefab.basecurrency%2C+item.amountSaved%29%3B%0A++++%7D%29%3B%0A++++Prefab.totalInvestment+%3D+totalInvestment%3B%0A%7D",
  "styles" : "",
  "variables" : "%7B%0A++%22supportedLocale%22+%3A+%7B%0A++++%22_id%22+%3A+%22wm-wm.Variable1402640443182%22%2C%0A++++%22name%22+%3A+%22supportedLocale%22%2C%0A++++%22owner%22+%3A+%22Page%22%2C%0A++++%22category%22+%3A+%22wm.Variable%22%2C%0A++++%22dataSet%22+%3A+%7B%0A++++++%22en%22+%3A+%22English%22%0A++++%7D%2C%0A++++%22type%22+%3A+%22string%22%2C%0A++++%22isList%22+%3A+false%2C%0A++++%22saveInPhonegap%22+%3A+false%0A++%7D%2C%0A++%22svGetAllAccounts%22+%3A+%7B%0A++++%22_id%22+%3A+%22wm-svGetAllAccounts-wm.ServiceVariable-1677993230582%22%2C%0A++++%22name%22+%3A+%22svGetAllAccounts%22%2C%0A++++%22owner%22+%3A+%22Page%22%2C%0A++++%22category%22+%3A+%22wm.ServiceVariable%22%2C%0A++++%22dataBinding%22+%3A+%5B+%5D%2C%0A++++%22type%22+%3A+%22com.wavemaker.networthdashboard.weavrAPI.WeavrApiManagedAccountsGetResponse%22%2C%0A++++%22service%22+%3A+%22weavrAPI%22%2C%0A++++%22operation%22+%3A+%22weavrAPI_managedAccountsGet%22%2C%0A++++%22operationId%22+%3A+%22weavrAPI_managedAccountsGet%22%2C%0A++++%22serviceType%22+%3A+%22OpenAPIService%22%2C%0A++++%22dataSet%22+%3A+%5B+%5D%2C%0A++++%22isList%22+%3A+false%2C%0A++++%22maxResults%22+%3A+20%2C%0A++++%22onSuccess%22+%3A+%22Variables.svGetAllCards.invoke%28%29%3BsvGetAllAccountsonSuccess%28variable%2C+data%2C+options%29%22%2C%0A++++%22startUpdate%22+%3A+true%2C%0A++++%22autoUpdate%22+%3A+false%2C%0A++++%22inFlightBehavior%22+%3A+%22executeLast%22%2C%0A++++%22transformationRequired%22+%3A+false%2C%0A++++%22saveInPhonegap%22+%3A+false%2C%0A++++%22controller%22+%3A+%22Managed+Accounts%22%0A++%7D%2C%0A++%22svGetAllCards%22+%3A+%7B%0A++++%22_id%22+%3A+%22wm-svGetAllCards-wm.ServiceVariable-1677993259793%22%2C%0A++++%22name%22+%3A+%22svGetAllCards%22%2C%0A++++%22owner%22+%3A+%22Page%22%2C%0A++++%22category%22+%3A+%22wm.ServiceVariable%22%2C%0A++++%22dataBinding%22+%3A+%5B+%5D%2C%0A++++%22type%22+%3A+%22com.wavemaker.networthdashboard.weavrAPI.WeavrApiManagedCardsGetResponse%22%2C%0A++++%22service%22+%3A+%22weavrAPI%22%2C%0A++++%22operation%22+%3A+%22weavrAPI_managedCardsGet%22%2C%0A++++%22operationId%22+%3A+%22weavrAPI_managedCardsGet%22%2C%0A++++%22serviceType%22+%3A+%22OpenAPIService%22%2C%0A++++%22dataSet%22+%3A+%5B+%5D%2C%0A++++%22isList%22+%3A+false%2C%0A++++%22maxResults%22+%3A+20%2C%0A++++%22onSuccess%22+%3A+%22svGetAllCardsonSuccess%28variable%2C+data%2C+options%29%22%2C%0A++++%22startUpdate%22+%3A+false%2C%0A++++%22autoUpdate%22+%3A+false%2C%0A++++%22inFlightBehavior%22+%3A+%22executeLast%22%2C%0A++++%22transformationRequired%22+%3A+false%2C%0A++++%22saveInPhonegap%22+%3A+false%2C%0A++++%22controller%22+%3A+%22Managed+Cards%22%0A++%7D%2C%0A++%22svGetGoalsForUser%22+%3A+%7B%0A++++%22_id%22+%3A+%22wm-svGetGoalsForUser-wm.ServiceVariable-1677994227931%22%2C%0A++++%22name%22+%3A+%22svGetGoalsForUser%22%2C%0A++++%22owner%22+%3A+%22Page%22%2C%0A++++%22category%22+%3A+%22wm.ServiceVariable%22%2C%0A++++%22dataBinding%22+%3A+%5B+%7B%0A++++++%22target%22+%3A+%22userId%22%2C%0A++++++%22value%22+%3A+%22bind%3Auserid%22%2C%0A++++++%22type%22+%3A+%22string%22%0A++++%7D%2C+%7B%0A++++++%22target%22+%3A+%22authtoken%22%2C%0A++++++%22value%22+%3A+%22bind%3Aauthtoken%22%2C%0A++++++%22type%22+%3A+%22string%22%0A++++%7D%2C+%7B%0A++++++%22target%22+%3A+%22apikey%22%2C%0A++++++%22value%22+%3A+%22vrdO4T5327wBeqOUIIABDQ%3D%3D%22%2C%0A++++++%22type%22+%3A+%22string%22%0A++++%7D+%5D%2C%0A++++%22type%22+%3A+%22com.wavemaker.networthdashboard.CustomWealthGoalAPI.WealthGoalsListModel%22%2C%0A++++%22service%22+%3A+%22CustomWealthGoalAPI%22%2C%0A++++%22operation%22+%3A+%22CustomWealthGoalAPI_CustomWealthGoalController_getWealthGoalsListForUser%22%2C%0A++++%22operationId%22+%3A+%22CustomWealthGoalAPI_CustomWealthGoalController_getWealthGoalsListForUser%22%2C%0A++++%22operationType%22+%3A+%22list%22%2C%0A++++%22serviceType%22+%3A+%22OpenAPIService%22%2C%0A++++%22dataSet%22+%3A+%5B+%5D%2C%0A++++%22isList%22+%3A+true%2C%0A++++%22maxResults%22+%3A+20%2C%0A++++%22onSuccess%22+%3A+%22svGetGoalsForUseronSuccess%28variable%2C+data%2C+options%29%22%2C%0A++++%22startUpdate%22+%3A+false%2C%0A++++%22autoUpdate%22+%3A+true%2C%0A++++%22inFlightBehavior%22+%3A+%22executeLast%22%2C%0A++++%22transformationRequired%22+%3A+false%2C%0A++++%22saveInPhonegap%22+%3A+false%2C%0A++++%22controller%22+%3A+%22CustomWealthGoal%22%0A++%7D%0A%7D"
}
