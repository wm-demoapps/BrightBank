{
  "markup" : "%3Cwm-prefab-container+name%3D%22prefab_container1%22%3E%0A++++%3C%21--%3Cwm-composite+name%3D%22composite1%22%3E--%3E%0A++++%3C%21--++++%3Cwm-label+class%3D%22col-md-3+control-label%22+name%3D%22label1%22%3E%3C%2Fwm-label%3E--%3E%0A++++%3C%21--++++%3Cwm-container+class%3D%22col-md-9%22+name%3D%22container1%22%3E--%3E%0A++++%3C%21--++++++++%3Cwm-textarea+name%3D%22textarea1%22+on-change%3D%22textarea1Change%28%24event%2C+widget%2C+newVal%2C+oldVal%29%22%3E%3C%2Fwm-textarea%3E--%3E%0A++++%3C%21--++++%3C%2Fwm-container%3E--%3E%0A++++%3C%21--%3C%2Fwm-composite%3E--%3E%0A++++%3C%21--%3Cwm-html+name%3D%22html1%22%3E%3Cspan+id%3D%22cardNumber%22%3E%3C%2Fspan%3E%3C%2Fwm-html%3E--%3E%0A++++%3Cwm-container+name%3D%22container1%22+content%3D%22bind%3Acardtype%3D%3D%26quot%3BSimpleCard%26quot%3B%3F%26quot%3BSimpleCard%26quot%3B%3A%28cardtype%3D%3D%26quot%3BCardFlipView%26quot%3B%3F%26quot%3BSimpleCardFlip%26quot%3B%3A%26quot%3BCardWithMoreOptions%26quot%3B%29%22%3E%3C%2Fwm-container%3E%0A%3C%2Fwm-prefab-container%3E",
  "script" : "%2F*%0A+*+Use+App.getDependency+for+Dependency+Injection%0A+*+eg%3A+var+DialogService+%3D+App.getDependency%28%27DialogService%27%29%3B%0A+*%2F%0A%0A%2F*%0A+*+This+function+will+be+invoked+when+any+of+this+prefab%27s+property+is+changed%0A+*+%40key%3A+property+name%0A+*+%40newVal%3A+new+value+of+the+property%0A+*+%40oldVal%3A+old+value+of+the+property%0A+*%2F%0APrefab.onPropertyChange+%3D+function%28key%2C+newVal%2C+oldVal%29+%7B%0A++++%2F%2F+handlePropertyChangeInStudioMode%28key%2C+newVal%2C+oldVal%29%3B%0A++++%2F%2F+switch+%28key%29+%7B%0A++++%2F%2F+++++case+%22authtoken%22%3A%0A++++%2F%2F+++++++++console.log%28%22onproperty+change%22+%2B+Prefab.cardtype%29%3B%0A++++%2F%2F+++++++++Prefab.Widgets.container1.content+%3D+Prefab.cardtype%3B%0A++++%2F%2F+++++++++break%3B%0A++++%2F%2F+%7D%0A%0A%7D%3B%0A%0APrefab.onReady+%3D+function%28%29+%7B%0A++++%2F%2F+this+method+will+be+triggered+post+initialization+of+the+prefab.%0A++++%2F%2F+window.OpcUxSecureClient.init%28Prefab.uikey%29%3B%0A++++%2F%2F+console.log%28%22onready%22+%2B+Prefab.cardtype%29%3B%0A++++%2F%2F+Prefab.Widgets.container1.content+%3D+Prefab.cardtype%3B%0A%7D%3B%0A%0APrefab.calculateExpiryDate+%3D+function%28expiryDate%29+%7B%0A++++if+%28expiryDate%29+%7B%0A++++++++return+expiryDate.substring%280%2C+2%29+%2B+%27%2F%27+%2B+expiryDate.substring%282%2C+4%29%3B%0A++++%7D%0A%7D%3B%0A%0A%2F*%0A+*+Refresh+Managed+Cards%0A+*%2F%0APrefab.refreshCards+%3D+function+%28%29+%7B%0A++++Prefab.Widgets.container1.Variables.JS_getAllManagedCards.invoke%28%29%3B%0A%7D%3B%0A%0A%2F*%0A+*+Total+Available+Balance+present+in+all+the+cards%0A+*%2F%0APrefab.totalBalance+%3D+function+%28%29+%7B%0A++++var+totalBalance+%3D+0%3B%0A++++var+data+%3D+Prefab.Widgets.container1.Widgets.list1.dataset%3B%0A++++for+%28var+i+%3D+0%3B+i+%3C+data.length%3B+i%2B%2B%29+%7B%0A++++++++totalBalance+%3D+totalBalance+%2B+data%5Bi%5D.balances.availableBalance%3B%0A++++%7D%0A++++return+%28data%5B0%5D.currency+%3D%3D+%22EUR%22+%3F+%22%E2%82%AC+%22+%3A+data%5B0%5D.currency+%3D%3D+%22USD%22+%3F+%22%24%22+%3A+%22%C2%A3%22%29+%2B+%28totalBalance+%2F+100%29.toFixed%282%29%3B%0A%7D%3B",
  "styles" : ".popoverHeight%7B%0A++++min-height%3A+40px%0A%7D%0A%0A.cusorStyle%7B%0A++++cursor%3A+pointer%0A%7D%0A%0A.cvvLayout%7B%0A++++margin-top%3A+-1.3em%3B%0A%7D",
  "variables" : "%7B%0A++%22supportedLocale%22+%3A+%7B%0A++++%22_id%22+%3A+%22wm-wm.Variable1402640443182%22%2C%0A++++%22name%22+%3A+%22supportedLocale%22%2C%0A++++%22owner%22+%3A+%22Page%22%2C%0A++++%22category%22+%3A+%22wm.Variable%22%2C%0A++++%22dataSet%22+%3A+%7B%0A++++++%22en%22+%3A+%22English%22%0A++++%7D%2C%0A++++%22type%22+%3A+%22string%22%2C%0A++++%22isList%22+%3A+false%2C%0A++++%22saveInPhonegap%22+%3A+false%0A++%7D%0A%7D"
}
