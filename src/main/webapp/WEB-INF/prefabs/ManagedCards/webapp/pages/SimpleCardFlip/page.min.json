{
  "markup" : "%3Cwm-partial+name%3D%22partial1%22%3E%0A++++%3Cwm-list+listclass%3D%22list-group%22+template%3D%22true%22+template-name%3D%22Business+Card%22+itemsperrow%3D%22xs-1+sm-2+md-3+lg-3%22+class%3D%22list-card+card-listing%22+statehandler%3D%22none%22+name%3D%22list1%22+dataset%3D%22bind%3AVariables.JS_getAllManagedCards.dataSet%22+navigation%3D%22Scroll%22%0A++++++++itemclass%3D%22bind%3Aitem.cardType+%3D%3D+%27VIRTUAL%27+%3F++%27virtual-card%27%3A%27physical-card%27%22+nodatamessage%3D%22No+Cards+found.%22%3E%0A++++++++%3Cwm-listtemplate+layout%3D%22media%22+name%3D%22listtemplate1%22%3E%0A++++++++++++%3Cwm-card+name%3D%22cardFront%22%3E%0A++++++++++++++++%3Cwm-card-content+name%3D%22card_content1%22%3E%0A++++++++++++++++++++%3Cwm-layoutgrid+columns%3D%222%22+name%3D%22layoutgrid2%22+class%3D%22spacing-small%22+height%3D%22190%22%3E%0A++++++++++++++++++++++++%3Cwm-gridrow+name%3D%22gridrow5%22%3E%0A++++++++++++++++++++++++++++%3Cwm-gridcolumn+columnwidth%3D%228%22+name%3D%22gridcolumn10%22+class%3D%22col-xs-8%22%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22bind%3AWidgets.list1.currentItem.cardType%3D%3D%26quot%3BVIRTUAL%26quot%3B%3F%26quot%3BVirtual+Card%26quot%3B%3A%26quot%3BPhysical+Card%26quot%3B%22+margin%3D%220px+unset%22+whitespace%3D%22nowrap%22+name%3D%22label6%22+class%3D%22f-l+font-semibold+text-ellipsis%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+name%3D%22Department%22+caption%3D%22bind%3AWidgets.list1.currentItem.cardBrand%2B+%26quot%3B+%28%26quot%3B%2BWidgets.list1.currentItem.currency%2B%28Widgets.list1.currentItem.currency%3D%3D%26quot%3BGBP%26quot%3B%3F%26quot%3B+%C2%A3%26quot%3B%3AWidgets.list1.currentItem.currency%3D%3D%26quot%3BUSD%26quot%3B%3F%26quot%3B+%24%26quot%3B%3A%26quot%3B+%E2%82%AC%26quot%3B%29%2B%26quot%3B+%29%26quot%3B%22%0A++++++++++++++++++++++++++++++++++++margin%3D%22unset+unset+0px+unset%22+class%3D%22f-xxs-2+font-medium+text-muted+text-ellipsis%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++++++++++++++++++++++%3Cwm-gridcolumn+columnwidth%3D%224%22+name%3D%22gridcolumn11%22+horizontalalign%3D%22right%22+class%3D%22col-xs-4%22%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22bind%3APrefab.servicehost%3D%3D%26quot%3BAPIVendor%28W%29%26quot%3B+%3F+%27Balance%27+%3A+%27Spent+Limit%27%22+class%3D%22f-xxs-2+font-medium+text-muted+text-ellipsis+%22+margin%3D%22unset+unset+0px+unset%22+name%3D%22label8%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22bind%3A%28%28Widgets.list1.currentItem.currency%3D%3D%26quot%3BGBP%26quot%3B%3F%26quot%3B%C2%A3+%26quot%3B%3A%28Widgets.list1.currentItem.currency%3D%3D%26quot%3BUSD%26quot%3B%3F%26quot%3B%24+%26quot%3B%3A%26quot%3B%E2%82%AC+%26quot%3B%29%29%2B%28%28Widgets.list1.currentItem.balance%29%29%29%22%0A++++++++++++++++++++++++++++++++++++class%3D%22f-sm+font-medium+text-ellipsis%22+margin%3D%22unset+unset+0px+unset%22+name%3D%22label7%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++++++++++++++++++%3C%2Fwm-gridrow%3E%0A++++++++++++++++++++++++%3Cwm-gridrow+name%3D%22gridrow5_1%22+padding%3D%2224px+unset+unset+unset%22%3E%0A++++++++++++++++++++++++++++%3Cwm-gridcolumn+columnwidth%3D%2212%22+name%3D%22gridcolumn13%22%3E%0A++++++++++++++++++++++++++++++++%3Cwm-container+name%3D%22container1%22+class%3D%22card-number%22%3E%0A++++++++++++++++++++++++++++++++++++%3Cwm-container+name%3D%22container2%22+display%3D%22inline-flex%22+on-click%3D%22labelCardNumberClick%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29%22+class%3D%22pointer%22%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+name%3D%22icon1%22+iconclass%3D%22fa+fa-circle%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon2%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon4%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon14%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++%3C%2Fwm-container%3E%0A++++++++++++++++++++++++++++++++++++%3Cwm-container+display%3D%22inline-flex%22+name%3D%22container3%22+on-click%3D%22labelCardNumberClick%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29%22+class%3D%22pointer%22%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon15%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon16%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon17%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon18%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++%3C%2Fwm-container%3E%0A++++++++++++++++++++++++++++++++++++%3Cwm-container+display%3D%22inline-flex%22+name%3D%22container4%22+on-click%3D%22labelCardNumberClick%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29%22+class%3D%22pointer%22%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon19%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon20%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon21%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++++++%3Cwm-icon+iconclass%3D%22fa+fa-circle%22+name%3D%22icon22%22%3E%3C%2Fwm-icon%3E%0A++++++++++++++++++++++++++++++++++++%3C%2Fwm-container%3E%0A++++++++++++++++++++++++++++++++++++%3Cwm-label+name%3D%22labelCardNumber%22+caption%3D%22bind%3AWidgets.list1.currentItem.cardNumberLastFourDigits%22+on-click%3D%22labelCardNumberClick%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29%22+margin%3D%22unset+unset+0px+unset%22+class%3D%22pointer%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++++++%3C%2Fwm-container%3E%0A++++++++++++++++++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++++++++++++++++++%3C%2Fwm-gridrow%3E%0A++++++++++++++++++++++++%3Cwm-gridrow+name%3D%22gridrow9%22+padding%3D%2224px+unset+unset+unset%22%3E%0A++++++++++++++++++++++++++++%3Cwm-gridcolumn+columnwidth%3D%225%22+name%3D%22gridcolumn18%22+class%3D%22col-xs-5%22%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22Card+Holder+Name%22+margin%3D%22unset+unset+0px+unset%22+name%3D%22label10%22+class%3D%22f-xxs-2+font-medium+text-muted+text-ellipsis+%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22bind%3AWidgets.list1.currentItem.name%22+margin%3D%22unset+unset+0em+unset%22+name%3D%22label12%22+class%3D%22f-sm-2+font-medium+text-ellipsis%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++++++++++++++++++++++%3Cwm-gridcolumn+columnwidth%3D%222%22+name%3D%22gridcolumn10_1%22+horizontalalign%3D%22center%22+padding%3D%22-1.2em+unset+unset+unset%22+class%3D%22col-xs-2%22%3E%0A++++++++++++++++++++++++++++++++%3Cwm-picture+name%3D%22pictureFlipCard%22+width%3D%2242px%22+height%3D%2242px%22+on-click%3D%22pictureFlipCardClick%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29%22+cursor%3D%22pointer%22+picturesource%3D%22resources%2Fimages%2Fimagelists%2Ficon-rotate-card.svg%22+resizemode%3D%22contain%22%3E%3C%2Fwm-picture%3E%0A++++++++++++++++++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++++++++++++++++++++++%3Cwm-gridcolumn+columnwidth%3D%225%22+name%3D%22gridcolumn19%22+horizontalalign%3D%22right%22+class%3D%22col-xs-5%22%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22Valid+Thru%22+class%3D%22f-xxs-2+font-medium+text-muted+text-ellipsis+%22+margin%3D%22unset+unset+0px+unset%22+name%3D%22label11%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++++++%3Cwm-label+caption%3D%22bind%3APrefab.calculateExpiryDate%28Widgets.list1.currentItem.cardExpiry%29%22+class%3D%22f-sm-2+font-medium+text-ellipsis%22+margin%3D%22unset+unset+0em+unset%22+name%3D%22label13%22%3E%3C%2Fwm-label%3E%0A++++++++++++++++++++++++++++%3C%2Fwm-gridcolumn%3E%0A++++++++++++++++++++++++%3C%2Fwm-gridrow%3E%0A++++++++++++++++++++%3C%2Fwm-layoutgrid%3E%0A++++++++++++++++%3C%2Fwm-card-content%3E%0A++++++++++++%3C%2Fwm-card%3E%0A++++++++++++%3Cwm-card+animation%3D%22flipInY%22+name%3D%22cardBack%22+show%3D%22false%22+deferload%3D%22true%22%3E%0A++++++++++++++++%3Cwm-card-content+name%3D%22card_content2%22+show%3D%22false%22%3E%3C%2Fwm-card-content%3E%0A++++++++++++%3C%2Fwm-card%3E%0A++++++++%3C%2Fwm-listtemplate%3E%0A++++%3C%2Fwm-list%3E%0A%3C%2Fwm-partial%3E",
  "script" : "%2F*%0A+*+Use+App.getDependency+for+Dependency+Injection%0A+*+eg%3A+var+DialogService+%3D+App.getDependency%28%27DialogService%27%29%3B%0A+*%2F%0A%0A%2F*+perform+any+action+on+widgets%2Fvariables+within+this+block+*%2F%0APartial.onReady+%3D+function%28%29+%7B%0A++++%2F*%0A+++++*+variables+can+be+accessed+through+%27Partial.Variables%27+property+here%0A+++++*+e.g.+to+get+dataSet+in+a+staticVariable+named+%27loggedInUser%27+use+following+script%0A+++++*+Partial.Variables.loggedInUser.getData%28%29%0A+++++*%0A+++++*+widgets+can+be+accessed+through+%27Partial.Widgets%27+property+here%0A+++++*+e.g.+to+get+value+of+text+widget+named+%27username%27+use+following+script%0A+++++*+%27Partial.Widgets.username.datavalue%27%0A+++++*%2F%0A++++console.log%28%22partial+onready%22%29%3B%0A%7D%3B%0A%0APartial.popover1Load+%3D+function%28widget%2C+item%2C+currentItemWidgets%29+%7B%0A++++var+token+%3D+%22Bearer+%22+%2B+Partial.Prefab.authtoken%3B%0A++++debugger%0A++++window.OpcUxSecureClient.associate%28token%2C%0A++++++++function%28%29+%7B%0A++++++++++++console.log%28%27associate+success%27%29%3B%0A++++++++++++%2F%2F+Create+an+instance+of+a+CVV+UI+component%0A++++++++++++%2F%2F+Replace+the+%7B%7Bcvv_token%7D%7D+with+the+tokenised+CVV+received+using+the+server-side+API+call%0A++++++++++++var+span+%3D+window.OpcUxSecureClient.span%28%22cvv%22%2C+item.cardCVV%29%3B%0A%0A++++++++++++%2F%2F+Embed+the+CVV+component+in+the+HTML+element+where+you+want%0A++++++++++++%2F%2F+the+CVV+to+be+shown%0A++++++++++++span.mount%28document.getElementById%28%27cvv%27%29%29%3B%0A++++++++%7D%2C%0A++++++++%2F%2F+Handle+errors%0A++++++++function%28e%29+%7B%0A++++++++++++console.error%28%27associate+failed+%27+%2B+e%29%3B%0A++++++++%7D%0A++++%29%3B%0A%7D%3B%0APartial.labelCardNumberClick+%3D+function%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29+%7B%0A++++debugger%0A++++Partial.Prefab.selectedcardid+%3D+item.id%3B%0A++++Partial.Prefab.selectedcard+%3D+item%3B%0A++++Partial.Prefab.onCardnumberselect%28%29%3B%0A%7D%3B%0A%0APartial.getCardId+%3D+function%28value%29+%7B%0A++++if+%28value%29+%7B%0A++++++++if+%28value.includes%28%27*%27%29%29+%7B%0A++++++++++++return+value.substring%28value.indexOf%28%27*%27%29+%2B+2%2C+value.length%29%3B%0A++++++++%7D+else+%7B%0A++++++++++++value+%3D+value.toString%28%29%3B%0A++++++++++++return+%2260%22+%2B+value.substring%28value.length%2C+value.length+-+2%29%3B%0A++++++++%7D%0A++++%7D%0A%7D%3B%0A%0APartial.pictureFlipCardClick+%3D+function%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29+%7B%0A%0A++++var+index+%3D+Partial.Widgets.list1.getIndex%28item%29%3B%0A++++Partial.Widgets.list1.getWidgets%28%27cardFront%27%29%5Bindex%5D.show+%3D+false%3B%0A++++Partial.Widgets.list1.getWidgets%28%27cardBack%27%29%5Bindex%5D.show+%3D+true%3B%0A++++Partial.Widgets.list1.getWidgets%28%27card_content2%27%29%5Bindex%5D.show+%3D+true%3B%0A++++Partial.Widgets.list1.getWidgets%28%27card_content2%27%29%5Bindex%5D.content+%3D+%22Partial_CVV%22%3B%0A++++Partial.Widgets.list1.getWidgets%28%27card_content2%27%29%5Bindex%5D.partialParams+%3D+%7B%0A++++++++%22cardNumber%22%3A+item.cardNumber%2C%0A++++++++%22cardCVV%22%3A+item.cardCVV%2C%0A++++++++%22index%22%3A+index%0A++++%7D%3B%0A%7D%3B%0A%0A%0APartial.JS_getAllManagedCardsonSuccess+%3D+function%28variable%2C+data%29+%7B%0A++++Partial.Prefab.onCardscount%28data.length%29%3B%0A%7D%3B%0APartial.container4Click+%3D+function%28%24event%2C+widget%2C+item%2C+currentItemWidgets%29+%7B%0A%0A%7D%3B",
  "styles" : "",
  "variables" : "%7B%0A++%22JS_getAllManagedCards%22+%3A+%7B%0A++++%22_id%22+%3A+%22wm-JS_getAllManagedCards-wm.ServiceVariable-1627048974594%22%2C%0A++++%22name%22+%3A+%22JS_getAllManagedCards%22%2C%0A++++%22owner%22+%3A+%22Page%22%2C%0A++++%22category%22+%3A+%22wm.ServiceVariable%22%2C%0A++++%22dataBinding%22+%3A+%5B+%7B%0A++++++%22target%22+%3A+%22hostName%22%2C%0A++++++%22value%22+%3A+%22bind%3APrefab.servicehost%22%2C%0A++++++%22type%22+%3A+%22string%22%0A++++%7D%2C+%7B%0A++++++%22target%22+%3A+%22authorization%22%2C%0A++++++%22value%22+%3A+%22bind%3APrefab.authtoken%22%2C%0A++++++%22type%22+%3A+%22string%22%0A++++%7D%2C+%7B%0A++++++%22target%22+%3A+%22endUserId%22%2C%0A++++++%22value%22+%3A+%22bind%3APrefab.enduserid%22%2C%0A++++++%22type%22+%3A+%22string%22%0A++++%7D+%5D%2C%0A++++%22type%22+%3A+%22com.managedcards.managedcardmodel.ManagedCardModel%22%2C%0A++++%22service%22+%3A+%22ManageCardsService%22%2C%0A++++%22operation%22+%3A+%22getAllManagedCards%22%2C%0A++++%22operationId%22+%3A+%22ManageCardsController_getAllManagedCards%22%2C%0A++++%22operationType%22+%3A+%22get%22%2C%0A++++%22serviceType%22+%3A+%22JavaService%22%2C%0A++++%22dataSet%22+%3A+%5B+%5D%2C%0A++++%22isList%22+%3A+true%2C%0A++++%22maxResults%22+%3A+20%2C%0A++++%22onSuccess%22+%3A+%22JS_getAllManagedCardsonSuccess%28variable%2C+data%2C+options%29%22%2C%0A++++%22startUpdate%22+%3A+false%2C%0A++++%22autoUpdate%22+%3A+true%2C%0A++++%22inFlightBehavior%22+%3A+%22executeLast%22%2C%0A++++%22transformationRequired%22+%3A+false%2C%0A++++%22saveInPhonegap%22+%3A+false%2C%0A++++%22controller%22+%3A+%22ManageCards%22%0A++%7D%0A%7D"
}
